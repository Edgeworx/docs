{{ $currentSection := .CurrentSection }}
{{ $next := newScratch }}
<div class="docs-navigation d-flex justify-content-between">
  <!--
    CAUTION: due to the funky way that hugo weights work, "Next"
    and "Previous" are opposite to what you'd expect! -->
  {{ if .NextInSection }}
  <h3>wubble</h3>
  {{ $next.Set "link" .NextInSection.RelPermalink }}
  <a href="{{ .NextInSection.RelPermalink }}">
    <div class="card my-1">
      <div class="card-body py-2">
        &larr; {{ .NextInSection.Title }}
      </div>
    </div>
  </a>
  {{ else if .IsSection }}
    <h1>Section start</h1>
    <!-- section start -->
  {{ else }}
    <!-- This is the first non-section page (page 1) of the section -->
    <a href="{{ $currentSection.RelPermalink }}">
      <div class="card my-1">
        <div class="card-body py-2">
          &larr; {{ $currentSection.Title }}
        </div>
      </div>
    </a>
  {{ end }}

  <h2>next link: {{ $next.Get "link" }}</h2>

  {{ if .PrevInSection  -}}
  <a class="ms-auto" href="{{ .PrevInSection.RelPermalink }}">
    <div class="card my-1">
      <div class="card-body py-2">
        {{ .PrevInSection.Title }} &rarr;
      </div>
    </div>
  </a>
  {{ end -}}
</div>
